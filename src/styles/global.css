@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Material You Red Palette (Light) */
  --m3-sys-primary: #ba1a1a;
  --m3-sys-on-primary: #ffffff;
  --m3-sys-primary-container: #ffdad6;
  --m3-sys-on-primary-container: #410002;
  
  --m3-sys-surface: #fdfcff;
  --m3-sys-light-surface: #fdfcff;
  --m3-sys-on-surface: #1a1c1e;
  --m3-sys-surface-variant: #f5ddda;
  --m3-sys-on-surface-variant: #534341;
  
  --m3-sys-outline: #857371;
  
  --m3-sys-secondary-container: #ffdad6;
  --m3-sys-on-secondary-container: #410002;

  /* Error (remains red) */
  --m3-sys-error: #ba1a1a;
  --m3-sys-on-error: #ffffff;
  --m3-sys-error-container: #ffdad6;
  --m3-sys-on-error-container: #410002;

  /* Elevations */
  --m3-elevation-1: 0px 1px 3px 1px rgba(0, 0, 0, 0.15), 0px 1px 2px 0px rgba(0, 0, 0, 0.30);
  --m3-elevation-2: 0px 2px 6px 2px rgba(0, 0, 0, 0.15), 0px 1px 2px 0px rgba(0, 0, 0, 0.30);

  /* Radius */
  --m3-radius-xl: 28px;
  --m3-radius-lg: 16px;
  --m3-radius-md: 12px;
}

[data-theme='dark'] {
  /* Material You Red Palette (Dark) */
  --m3-sys-primary: #ffb4ab;
  --m3-sys-on-primary: #690005;
  --m3-sys-primary-container: #93000a;
  --m3-sys-on-primary-container: #ffdad6;
  
  --m3-sys-surface: #1a1c1e;
  --m3-sys-light-surface: #1a1c1e;
  --m3-sys-on-surface: #e2e2e6;
  --m3-sys-surface-variant: #534341;
  --m3-sys-on-surface-variant: #d8c2bf;
  
  --m3-sys-outline: #a08c8a;
  
  --m3-sys-secondary-container: #534341; 
  --m3-sys-on-secondary-container: #ffdad6;

  --m3-sys-error: #ffb4ab;
  --m3-sys-on-error: #690005;
  --m3-sys-error-container: #93000a;
  --m3-sys-on-error-container: #ffdad6;

  --m3-elevation-1: 0px 1px 3px 1px rgba(0, 0, 0, 0.35), 0px 1px 2px 0px rgba(0, 0, 0, 0.50);
  --m3-elevation-2: 0px 2px 6px 2px rgba(0, 0, 0, 0.35), 0px 1px 2px 0px rgba(0, 0, 0, 0.50);
}

body {
  background-color: var(--m3-sys-surface);
  color: var(--m3-sys-on-surface);
  font-family: 'Inter', system-ui, sans-serif;
  margin: 0;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Custom Date Picker Styles */
input[type="date"] {
  appearance: none;
  -webkit-appearance: none;
  min-height: 2.5rem;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%231a1c1e' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='4' width='18' height='18' rx='2' ry='2'%3E%3C/rect%3E%3Cline x1='16' y1='2' x2='16' y2='6'%3E%3C/line%3E%3Cline x1='8' y1='2' x2='8' y2='6'%3E%3C/line%3E%3Cline x1='3' y1='10' x2='21' y2='10'%3E%3C/line%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 1rem center;
  background-size: 1.25rem;
  padding-right: 2.5rem;
  cursor: pointer;
  border-radius: var(--m3-radius-md);
  border: 1.5px solid var(--m3-sys-outline);
  background-color: transparent;
  width: 100%;
  color: var(--m3-sys-on-surface);
  font-size: 0.875rem;
  padding-left: 1rem;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
  position: relative; /* CRITICAL: Contains the absolute picker indicator */
}

input[type="date"]:focus {
  outline: none;
  border-color: var(--m3-sys-primary);
  box-shadow: 0 0 0 2px var(--m3-sys-primary)/10;
}

input[type="date"]::-webkit-calendar-picker-indicator {
  position: absolute;
  right: 0;
  top: 0;
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  opacity: 0;
  cursor: pointer;
}

[data-theme='dark'] input[type="date"] {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%23fdfcff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='4' width='18' height='18' rx='2' ry='2'%3E%3C/rect%3E%3Cline x1='16' y1='2' x2='16' y2='6'%3E%3C/line%3E%3Cline x1='8' y1='2' x2='8' y2='6'%3E%3C/line%3E%3Cline x1='3' y1='10' x2='21' y2='10'%3E%3C/line%3E%3C/svg%3E");
}

/* Shimmer Animation */
@keyframes shimmer {
  0% {
    background-position: -468px 0;
  }
  100% {
    background-position: 468px 0;
  }
}

.shimmer {
  background: linear-gradient(
    to right, 
    var(--m3-sys-surface-variant) 8%, 
    var(--m3-sys-surface) 18%, 
    var(--m3-sys-surface-variant) 33%
  );
  background-size: 800px 104px;
  animation: shimmer 1.5s linear infinite forwards;
  position: relative;
  overflow: hidden;
}

[data-theme='dark'] .shimmer {
  background: linear-gradient(
    to right, 
    var(--m3-sys-surface-variant) 8%, 
    var(--m3-sys-surface) 18%, 
    var(--m3-sys-surface-variant) 33%
  );
  background-size: 800px 400px;
}
